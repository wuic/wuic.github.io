<!DOCTYPE html> <html manifest="/pages/1432556969158/wuic-documentation.html.appcache" lang="en"> <head><link rel="preload" href="/pages/2861444051/00000000AE5E7C6Faggregate.css" as="stylesheet" />
<link rel="preload" href="/pages/3425301454/000000006B8EFF0Daggregate.css" as="stylesheet" />
<link rel="preload" href="/pages/1432556969517/000000006B8EFF0Dwiki-images/logo/favicon.ico" as="image" />
<link rel="preload" href="/pages/2302483662/000000004F9005C2aggregate.js" as="script" />
 <meta charset="UTF-8"> <!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <meta name="generator" content="Asciidoctor 1.5.2"> <title>Welcome to WUIC documentation page</title> <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400"> <link rel="stylesheet" type="text/css" href="/pages/2861444051/00000000AE5E7C6Faggregate.css" />
 </head> <body class="article"> <div id="header"> </div> <div id="content"> <link rel="stylesheet" type="text/css" href="/pages/3425301454/000000006B8EFF0Daggregate.css" />
<link rel="shortcut icon" href="/pages/1432556969517/000000006B8EFF0Dwiki-images/logo/favicon.ico" />
    <!--[if lt IE 9]><script src="../assets/js/html5shiv.js"></script><![endif]-->   <div class="masthead"> <div class="navbar"> <div class="navbar-inner"> <div class="container"> <ul class="nav" role="navigation"> <li><a href="index.html"><i class="icon-home"></i><span class="hidden-phone">&nbsp;Home</span></a></li> <li><a href="project.html"><i class="icon-star"></i><span class="hidden-phone">&nbsp;Project</span></a></li> <li class="active"><a href="documentation.html"><i class="icon-book"></i><span class="hidden-phone">&nbsp;Documentation</span></a></li> <li><a href="contact.html"><i class="icon-envelope"></i><span class="hidden-phone">&nbsp;Contact</span></a></li> <li><a href="https://github.com/wuic/wuic" target="_blank" title="Wuic Github"><i class="icon-github"></i><span class="hidden-phone">&nbsp;Github</span></a></li> <li><a href="https://twitter.com/wuic_project" target="_blank"><i class="icon-twitter"></i><span class="hidden-phone">&nbsp;Twitter</span></a></li> </ul> </div> </div> </div> </div> <h1 id="_welcome_to_wuic_documentation_page" class="sect0">Welcome to WUIC documentation page</h1> <div class="paragraph"> <p>This documentation gathers all information you need to use Web UI Compressor, the web assets optimizers for the JVM. Before going deeper, you may take a look at the <a href="http://wuic.github.io">website index</a> for a general introduction ;)</p> </div> <div class="paragraph"> <p>Find the documentation for following purpose:</p> </div> <div class="ulist"> <ul> <li> <p><a href="#_use_wuic_in_your_application_to_optimize_its_performance">Use WUIC in your application to optimize its performance</a></p> </li> <li> <p><a href="https://github.com/wuic/wuic/wiki#i-want-to-extend-wuic">You want to extend WUIC</a></p> </li> <li> <p><a href="https://github.com/wuic/wuic/wiki#i-want-to-use-wuic-in-your-own-framework">You want to use WUIC in your own framework</a></p> </li> </ul> </div> <div class="sect1"> <h2 id="_use_wuic_in_your_application_to_optimize_its_performance">Use WUIC in your application to optimize its performance</h2> <div class="sectionbody"> <div class="paragraph"> <p>If you want to see WUIC directly in action and play with it, you can directly jump into our step-by-step 5 minutes tutorials (TODO: migrate tutorials). You can also see several samples <a href="https://github.com/wuic/wuic-samples">here</a>.</p> </div> <div class="paragraph"> <p>If you want to go deeper, you can read our set of articles describing all the implemented concepts. You can start by reading the <a href="#_general_architecture_and_terminology">General architecture and terminology</a> section.</p> </div> <div class="paragraph"> <p>Then, follow the step-by-step tutorials that illustrate how you can start very quickly with automatic optimizations and then gradually enable more WUIC features to capitalize on all offered possibilities:</p> </div> <div class="ulist"> <ul> <li> <p>Configure WUIC to serve your statics from your servlet container and install the servlet filter that optimize your HTML page</p> </li> <li> <p>Enable automatically extensions just by adding dependencies</p> </li> <li> <p>Generate your scripts imports statements in your HTML page thanks to JSP or Thymeleaf support</p> </li> <li> <p>Manage your statics with XML configuration file</p> </li> <li> <p>Process your raw statics at runtime</p> </li> </ul> </div> <div class="paragraph"> <p>After this, you&#8217;ll find in the side bar the detailed documentation regarding each followed steps in the tutorials:</p> </div> <div class="ulist"> <ul> <li> <p>Complete XML configuration documentation (TODO: migrate <a href="https://github.com/wuic/wuic/wiki/Understanding-wuic.xml" class="bare">https://github.com/wuic/wuic/wiki/Understanding-wuic.xml</a>)</p> </li> <li> <p>Complete web.xml configuration (TODO: migrate <a href="https://github.com/wuic/wuic/wiki/Configuring-web.xml" class="bare">https://github.com/wuic/wuic/wiki/Configuring-web.xml</a>)</p> </li> <li> <p>Available engines (TODO: migrate <a href="https://github.com/wuic/wuic/wiki/Engine-configuration" class="bare">https://github.com/wuic/wuic/wiki/Engine-configuration</a>) and [DAO](<a href="https://github.com/wuic/wuic/wiki/Data-Access-Object" class="bare">https://github.com/wuic/wuic/wiki/Data-Access-Object</a>)</p> </li> </ul> </div> </div> </div> <div class="sect1"> <h2 id="_general_architecture_and_terminology">General architecture and terminology</h2> <div class="sectionbody"> <div class="paragraph"> <p>WUIC is designed to integrate many architectures. This is possible thanks to the following abstract concepts:</p> </div> <div class="ulist"> <ul> <li> <p><strong>Nut</strong>: this is an abstraction of your static file providing its type (JS/CSS) and the stream allowing to read it</p> </li> <li> <p><strong>DAO</strong>: the Data Access Object pattern is used to define the NutDao interface, allowing to manage nuts</p> </li> <li> <p><strong>Heap</strong>: this is a set of nuts that you use to organize them</p> </li> <li> <p><strong>Engine</strong>: the engine is a class which can process your nuts with a particular role (caching, aggregating, compressing, etc)</p> </li> <li> <p><strong>Workflow</strong>: Associates a heap to a <strong>chain of responsibility</strong> composed of engines. This way, the workflow describes how you want to process your nuts.</p> </li> </ul> </div> <div class="paragraph"> <p>The following diagram shows the architecture used by WUIC to optimize your website on the fly:</p> </div> <div class="imageblock"> <div class="content"> <img src="images/ditaa-diagram.png" alt="ditaa diagram" width="1150" height="812"> </div> </div> <div class="sect2"> <h3 id="_step_1">Step 1</h3> <div class="paragraph"> <p>The browser requires the page corresponding to the link in the address bar on the server. The server can directly serve a HTML page, which can be filtered by the WUIC servlet filter that optimizes it and all its referenced resources. The HTML can also be produced by a processor like JSP or Thymeleaf (which could also be filtered by the WUIC servlet filter). WUIC tags for those libraries can also be called during template processing to generate links pointing to optimized resources.</p> </div> </div> <div class="sect2"> <h3 id="_step_2">Step 2</h3> <div class="paragraph"> <p>A workflow is executed according to the information associated to the requested page. For now, just remember that in WUIC, a workflow describes the way you want to process a set of statics. The workflow could be created on the fly by the servlet filter or a workflow referenced manually inside a template (through JSP or Thymeleaf).</p> </div> <div class="paragraph"> <p><strong>Step 2a:</strong> the invoked workflow corresponds at least to the resources referenced in the HTML page, and possibly to the HTML page itself if the servlet filter is installed.</p> </div> </div> <div class="sect2"> <h3 id="_step_3">Step 3</h3> <div class="paragraph"> <p>When a workflow needs to be executed, WUIC looks at first for the statics to be processed. They are provided by an associated <strong>heap</strong>. A heap is also identified by an ID and just contains a set of paths representing the statics to be loaded.</p> </div> </div> <div class="sect2"> <h3 id="_step_4">Step 4</h3> <div class="paragraph"> <p>The heap just has the paths representing the statics, but it can&#8217;t open the stream to them itself. It consequently uses an associated <strong>DAO</strong> which, thanks to a given path, can provide access to the stream. Remember: the DAO will produce a <strong>nut</strong>. Nut is the term that will be used everywhere in WUIC to represent your static (or you also called a resource).</p> </div> </div> <div class="sect2"> <h3 id="_step_5">Step 5</h3> <div class="paragraph"> <p>Once the nuts have been returned by the heap, then a <strong>chain of responsibility</strong> composed of <strong>engines</strong> is called to process the nuts. Each engine has a particular purpose. There is an engine for caching, compressing, inspecting or aggregating nuts.</p> </div> </div> <div class="sect2"> <h3 id="_step_6">Step 6</h3> <div class="paragraph"> <p>Once nuts have been processed by engines, they are returned by the invoker (a servlet, a filter or a tag processor).</p> </div> </div> <div class="sect2"> <h3 id="_step_7">Step 7</h3> <div class="paragraph"> <p>The result is sent to the browser. If the result contains the optimized version of the required page, then its content is written to the HTTP response. Otherwise, the result is sent under the form of a link added to the HTML page which points to the WUIC servlet. Note that the resource can also be pushed to the client if HTTP/2 is enabled.</p> </div> </div> <div class="sect2"> <h3 id="_step_8">Step 8</h3> <div class="paragraph"> <p>When the page is fetched by the browser, additional resources (JS, CSS, etc) that have been processed by WUIC could be referenced as links. The links are used to submit a new HTTP request to the WUIC servlet.</p> </div> </div> <div class="sect2"> <h3 id="_step_9">Step 9</h3> <div class="paragraph"> <p>The WUIC servlet extracts the requested name of the result entry for the specified workflow to be written to the HTTP response.</p> </div> <div class="paragraph"> <p><strong>Step 2b</strong>: when a particular resource is requested, the WUIC servlet executes the workflow like in step 2 to retrieve the content to write. However, you can be sure that the workflow will be executed pretty fast, as a result already exists in the internal cache.</p> </div> </div> </div> </div> <div class="sect1"> <h2 id="_i_want_to_extend_wuic">I want to extend WUIC</h2> <div class="sectionbody"> <div class="paragraph"> <p>WUIC is designed to be extended easily. You will find a complete advanced tutorial [here](<a href="https://github.com/wuic/wuic/wiki/Create-an-extension" class="bare">https://github.com/wuic/wuic/wiki/Create-an-extension</a>).</p> </div> </div> </div> <div class="sect1"> <h2 id="_i_want_to_use_wuic_in_my_own_framework">I want to use WUIC in my own framework</h2> <div class="sectionbody"> <div class="paragraph"> <p>If you want to build a part of your framework on top of WUIC, you don&#8217;t have to ask your users to use XML configuration file. You can totally hide this configuration point by using Java Config (TODO: migrate <a href="https://github.com/wuic/wuic/wiki/Configuring-with-Java-Config" class="bare">https://github.com/wuic/wuic/wiki/Configuring-with-Java-Config</a>).</p> </div> <div class="paragraph"> <p>Then you will find implementation details directly in the javadoc (TODO: migrate <a href="http://wuic.github.io/apidocs/index.html" class="bare">http://wuic.github.io/apidocs/index.html</a>).</p> </div> <script src="http://code.jquery.com/jquery-1.10.0.min.js"></script> <script type="text/javascript" src="/pages/2302483662/000000004F9005C2aggregate.js"></script>
  </div> </div> </div> <div id="footer"> <div id="footer-text"> Last updated 2015-05-25 13:24:33 +01:00 </div> </div> </body> </html>